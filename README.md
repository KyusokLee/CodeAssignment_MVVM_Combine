[![Swift 5.9](https://img.shields.io/badge/swift-5.9-ED523F.svg?style=flat)](https://swift.org/download/) [![Xcode 15.2](https://img.shields.io/badge/Xcode-15.2-ED523F.svg?style=flat&color=blue)](https://swift.org/download/)

# GitHub Repository Search Project

> `GitHub API`ã‚’å‚è€ƒã«ã—ã¦GitHubä¸Šã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢ã—ã€`Personal Access Token`ã‚’ç”¨ã„ã¦ãŠæ°—ã«å…¥ã‚Šã®ãƒªãƒã‚¸ãƒˆãƒªã«æ˜Ÿä»˜ã‘ãƒ»è§£é™¤ãŒã§ãã‚‹æ¤œç´¢ã‚¢ãƒ—ãƒª

&nbsp;

## ãƒ‡ãƒ¢å‹•ç”»
> ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢

https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/c45bb097-48d4-4c5b-9c4f-1bcb6915754a

# 

> ãƒªãƒã‚¸ãƒˆãƒªè©³ç´°ç”»é¢

https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/0a22c318-116b-48cf-a554-91cd18ca2285

# 

> ãƒªãƒã‚¸ãƒˆãƒªã«æ˜Ÿä»˜ã‘ãƒ»è§£é™¤

https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/f2886f49-ecfe-4049-b3e4-9968a78318ce

# 

> å…¥åŠ›ãƒ¯ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ

https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/e9845d62-3495-4181-96df-976f16d8fafe

&nbsp;

## å‚è€ƒè³‡æ–™

> [GitHub API: - æ¤œç´¢ç”¨ REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ](https://docs.github.com/ja/rest/search/search?apiVersion=2022-11-28#search-repositories) <br>
> [GitHub API: - æ˜Ÿä»˜ã‘ç”¨ REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ](https://docs.github.com/ja/rest/activity/starring?apiVersion=2022-11-28#star-a-repository-for-the-authenticated-user)

&nbsp;

## ç›®æ¬¡

* [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ](#-ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ)
* [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
* [æ©Ÿèƒ½åŠã³UI](#-æ©Ÿèƒ½åŠã³UI)
* [è¨­è¨ˆåŠã³å®Ÿè£…](#-è¨­è¨ˆåŠã³å®Ÿè£…)
* [æŠ€è¡“çš„ãƒãƒ£ãƒ¬ãƒ³ã‚¸](#-æŠ€è¡“çš„ãƒãƒ£ãƒ¬ãƒ³ã‚¸)
    * [MVVM](#MVVM)
    * [Combine](#Combine)
    * [UICollectionViewDiffableDataSource](#UICollectionViewDiffableDataSource)
    * [UICollectionViewCompositionalLayout](#UICollectionViewCompositionalLayout)
* [å®Ÿè£…æ™‚ã«æ„è­˜ã—ãŸã“ã¨](#-å®Ÿè£…æ™‚ã«æ„è­˜ã—ãŸã“ã¨)
    * [Extensionæ´»ç”¨](#Extensionæ´»ç”¨) 
    * [AutoLayout](#AutoLayout)
    * [å‚ç…§åŠã³ARCé–¢é€£](#å‚ç…§åŠã³ARCé–¢é€£)
    * [ã‚¨ãƒ©ãƒ¼ã®åˆ†å²](#ã‚¨ãƒ©ãƒ¼ã®åˆ†å²)
    * [DRYåŸå‰‡](#DRYåŸå‰‡)
* [å·¥å¤«ç‚¹](#-å·¥å¤«ç‚¹)
    * [Personal Access Token ã®ç®¡ç†æ–¹æ³•](#Personal-Access-Token-ã®ç®¡ç†æ–¹æ³•)
* [å­¦ã³](#-å­¦ã³)
    * [ç”»é¢è¡¨ç¤ºç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®çµåˆãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ](#ç”»é¢è¡¨ç¤ºç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®çµåˆãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ)

## ğŸ—‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
CodeAssignment_MVVM_Combine
 â”œâ”€â”€ Resources
 â”‚   â”œâ”€â”€ Info.plist
 â”‚Â Â  â””â”€â”€ Assets.xcassets
 â””â”€â”€ Sources
     â”œâ”€â”€ Apps
     â”‚Â   â”œâ”€â”€ SceneDelegate
     â”‚Â   â””â”€â”€ AppDelegate
     â”œâ”€â”€ Extensions
     â”‚Â Â  â”œâ”€â”€ HTMLURLResponse
     â”‚Â Â  â”‚Â Â  â””â”€â”€ HTMLURLResponse+Utils
     â”‚Â   â”œâ”€â”€ Error
     â”‚Â Â  â”‚Â Â  â””â”€â”€ ErrorType+Utils
     â”‚Â Â  â””â”€â”€ UIColor
     â”‚Â Â  Â    â””â”€â”€ UIColor+Utils
     â”œâ”€â”€ Controllers
     â”‚Â Â  â”œâ”€â”€ HomeViewController
     â”‚Â Â  â””â”€â”€ DetailViewController
     â”œâ”€â”€ ViewModels
     â”‚Â   â”œâ”€â”€ Home
     â”‚Â Â  â”‚Â Â  â””â”€â”€ HomeViewModel
     â”‚Â Â  â””â”€â”€ DetailView
     â”‚Â Â  Â    â””â”€â”€ DetailViewModel
     â”œâ”€â”€ Views
     â”‚Â   â”œâ”€â”€ LoadingView
     â”‚Â Â  â”œâ”€â”€ ReadySearchView
     â”‚Â Â  â””â”€â”€ Cells
     â”‚Â Â  Â    â””â”€â”€ HomeViewController
     â”‚Â Â  Â        â””â”€â”€ RepositoryCollectionViewCell
     â””â”€â”€ Models
         â”œâ”€â”€ Enums
         â”‚Â Â  â”œâ”€â”€ ErrorType
         â”‚Â Â  â”œâ”€â”€ GitHubAPIType
         â”‚Â Â  â”œâ”€â”€ Constants
         â”‚Â Â  â””â”€â”€ Tokens
         â”œâ”€â”€ Network
         â”‚Â Â  â””â”€â”€ APIClient
         â”œâ”€â”€ Entities
         â”‚   â””â”€â”€ RepositoriesRespone
         â””â”€â”€ Presentations
          Â Â  â””â”€â”€ Repositories
```

&nbsp;

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
UIKit
- ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®UIã§é–‹ç™ºã—ã¾ã—ãŸã€‚
- `UICollectionView` ã® DataSource ã«é–¢ã—ã¦ã¯ã€`UICollectionViewDiffableDataSource` ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
MVVM
- UIã‚’æ‹…å½“ã™ã‚‹ `View` ã®é–‹ç™ºã‚’ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯éƒ¨åˆ†ã¨åˆ†é›¢ã•ã›ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã€ä½¿ç”¨ã—ã¾ã—ãŸã€‚
- ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚ˆã‚Šã€`View` ã®æ›´æ–°ã‚’åŠ¹ç‡åŒ–ã—ã¾ã™ã€‚

### ãƒ‡ãƒ¼ã‚¿ãƒ»UIã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
Combine
- é€£ç¶šã—ãŸã‚¨ã‚¹ã‚±ãƒ¼ãƒ”ãƒ³ã‚°ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’é¿ã‘ã€å®£è¨€çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ã‚ˆã‚‹é«˜ã„å¯èª­æ€§ã¨ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ç”¨ã„ãŸåŠ¹ç‡çš„ãªéåŒæœŸå‡¦ç†ã®ãŸã‚ã«ä½¿ç”¨ã—ã¾ã—ãŸã€‚
- ãƒ‡ãƒ¼ã‚¿ãŒç™ºç”Ÿã™ã‚‹æ™‚ç‚¹ã‹ã‚‰ãƒ“ãƒ¥ãƒ¼ã«æç”»ã•ã‚Œã‚‹ã¾ã§ã€ä¸€ã¤ã®å¤§ããªã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã—ãŸã€‚

### AutoLayoutå®Ÿè£…
SnapKit
- ç›´æ„Ÿçš„ãªã‚³ãƒ¼ãƒ‰ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åˆ¶ç´„ã‚’ä½œæˆãƒ»ç®¡ç†ã§ãã‚‹ãŸã‚ã€ä½¿ç”¨ã—ã¾ã—ãŸã€‚

### Webç”»åƒã®å‡¦ç†
SDWebImage
- ç”»åƒã®éåŒæœŸèª­ã¿è¾¼ã¿ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã€ä½¿ç”¨ã—ã¾ã—ãŸã€‚

&nbsp;

## ğŸ“± æ©Ÿèƒ½åŠã³UI

|æ©Ÿèƒ½/UI|èª¬æ˜|
|:-|:-|
|æ¤œç´¢|`GitHub REST API`ã‚’ä½¿ç”¨ã—ã¦æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã™ã“ã¨ã§ã€GitHubä¸Šã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢ã§ãã¾ã™ã€‚|
|ä¸€è¦§ãƒªã‚¹ãƒˆ|ãƒªãƒã‚¸ãƒˆãƒªæ¤œç´¢çµæœã‚’ä¸€è¦§ã¨ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚ä¸€è¦§ãƒªã‚¹ãƒˆã§è¡¨ç¤ºã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯`ãƒªãƒã‚¸ãƒˆãƒªå`, `ãƒªãƒã‚¸ãƒˆãƒªã®Description`, `ãƒ¦ãƒ¼ã‚¶å`, `ãƒ¦ãƒ¼ã‚¶ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸ`, `ã‚¹ã‚¿ãƒ¼æ•°`, `ä½¿ç”¨è¨€èª`ã§ã™ã€‚|
|è©³ç´°ç”»é¢|ä¸€è¦§ãƒªã‚¹ãƒˆã§ç¢ºèªã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªã®ã‚»ãƒ«ã‚’ã‚¿ãƒƒãƒã™ã‚‹ã¨ã€ãã®ãƒªãƒã‚¸ãƒˆãƒªã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤ºã—ãŸç”»é¢ã«é·ç§»ã—ã¾ã™ã€‚è©³ç´°ç”»é¢ã§ã¯ã€ä¸€è¦§ãƒªã‚¹ãƒˆã§è¡¨ç¤ºã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ãƒ¼ã‚¿ã«åŠ ãˆã¦`Watchersã®æ•°`, `forksã®æ•°`, `issuesã®æ•°`ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚|
|æ˜Ÿä»˜ã‘ãƒ»è§£é™¤|è©³ç´°ç”»é¢ã®æ˜Ÿãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒã™ã‚‹ã¨ã€ãƒªãƒã‚¸ãƒˆãƒªã«æ˜Ÿã‚’ä»˜ã‘ãŸã‚Šè§£é™¤ã—ãŸã‚Šã§ãã¾ã™ã€‚`Personal Access Token`ã‚’ç”¨ã„ã¦GitHubèªè¨¼ã‚’è¡Œã†ã“ã¨ã§ã€è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã“ã‚Œã‚‰ã®æ“ä½œãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚|

&nbsp;

## ğŸ’» è¨­è¨ˆåŠã³å®Ÿè£…

### MVVM

<p align="center">
   <img width="840" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2024-07-01 17 11 34" src="https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/33eae7ae-9fcd-4ffd-b1ab-ac104c166846">
</p>

&nbsp;

### å½¹å‰²åˆ†æ‹…

|class/struct|å½¹å‰²|
|:-|:-|
|`HomeViewController`|`UISearchController`ã®`searchBar`ã‚’ç”¨ã„ã¦æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã€ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢ã—ã¦ãã®çµæœã‚’ä¸€è¦§ãƒªã‚¹ãƒˆã§è¡¨ç¤ºã™ã‚‹ç”»é¢ã§ã™ã€‚|
|`DetailViewController`|`HomeViewController`ã§ã‚¿ãƒƒãƒã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ç”»é¢ã§ã™ã€‚|
|`RepositoriesResponse`|APIå©ãã‹ã‚‰å¾—ã‚‰ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’ç›´æ¥ç®¡ç†ã—ã¾ã™ã€‚|
|`Repositories`|`RepositoriesResponse`ã®ãƒ‡ãƒ¼ã‚¿ã‚’`ViewController`ã®ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚|


&nbsp;

### Utilities

|class/struct|å½¹å‰²|
|:-|:-|
|`APIClient`|APIã‚’å‘¼ã³å‡ºã™ãŸã‚ã«å¿…è¦ãªå‡¦ç†ã‚’ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã€‚HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ“ãƒ«ãƒ‰ã¨é€ä¿¡ã€ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»ãƒ‡ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ã‚¨ãƒ©ãƒ¼ã®åˆ†å²ã‚’æ‹…å½“ã—ã¾ã™ã€‚|

&nbsp;

## ğŸ’ªğŸ» æŠ€è¡“çš„ãƒãƒ£ãƒ¬ãƒ³ã‚¸

### MVVM
ã€€ã“ã‚Œã¾ã§ã®é–‹ç™ºã¯ã»ã¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æœªå°å…¥ã‹MVPã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç”¨ã„ã¦é–‹ç™ºã—ã¦ã¾ã—ãŸãŒã€ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ç†è§£ã®ãŸã‚ã®åº§å­¦ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã®é–‹ç™ºã§MVVMã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å°å…¥ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ã“ã‚Œã‚’ãã£ã‹ã‘ã«MVVM ã«ã¤ã„ã¦å–ã‚Šä¸Šã’ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ç†è§£ã—ãŸå†…å®¹ã‚’ä»¥ä¸‹ã«è¨˜è¼‰ã—ã¾ã—ãŸã€‚<br>

ã€€MVVMã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€`ViewController`ã¨`View`ã¯ç”»é¢ã‚’æãå½¹å‰²ã ã‘ã«é›†ä¸­ã•ã›ã€ç”»é¢ä¸Šã§å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†ã¨ãƒ­ã‚¸ãƒƒã‚¯ã¯`ViewModel`ã§é€²ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã€é–¢å¿ƒäº‹ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã™ã€‚

<p align="center">
   <img width="840" alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2024-06-24 20 18 58" src="https://github.com/KyusokLee/CodeAssignment_MVVM_Combine/assets/89962765/9a1161ba-912a-4790-8d4e-185592b24290">
</p>

ã€€MVVM ã¯ Model-View-ViewModel ã®ç•¥ç§°ã§ã‚ã‚Šã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã§ä½¿ã‚ã‚Œã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€ã¤ã‚’æŒ‡ã—ã¾ã™ã€‚MVVMã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸Šè¨˜ã®ã‚ˆã†ã«ï¼“ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†é›¢ã—ã¦ç®¡ç†ã—ã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‰¹å®šã®å½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚

&nbsp;

#### `Model`
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚€
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã©ã¨ç›¸äº’ä½œç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»æ›´æ–°
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã¨ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¾ã—ã€ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’æ¤œå‡ºã—ã¦é€šçŸ¥ã‚’è¡Œã†ã“ã¨ãŒå¯èƒ½

ã€€æœ¬ã‚¢ãƒ—ãƒªã§ã¯APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã‚’å‡¦ç†ã™ã‚‹ `APIClient`ã‚„ ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«å¾—ã‚‰ã‚Œã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« `RepositoriesResponse` ãªã©ãŒå½“ã¦ã¯ã¾ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ `RepositoriesResponse` ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```swift
struct RepositoriesResponse: Codable {
    /// queryã«å½“ã¦ã¯ã¾ã‚‹çµæœã®æ•°
    let totalCount: Int
    /// ãƒªãƒã‚¸ãƒˆãƒªã®è©³ç´°ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã‚‹é…åˆ—å½¢
    let items: [RepositoryResponse]
    
    struct RepositoryResponse: Codable {
        var owner: RepositoryUserResponse
        var name: String
        var description: String?
        var language: String?
        var stargazersCount: Int
        var forksCount: Int
        var watchersCount: Int
        var openIssuesCount: Int

        struct RepositoryUserResponse: Codable {
            var login: String
            var avatarUrl: String
        }
    }
}
```

&nbsp;

#### `View`
- ã„ã‚„ã‚†ã‚‹UIã‚’æŒ‡ã™
- ãƒ¦ãƒ¼ã‚¶ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ç›¸äº’ä½œç”¨ã§ãã‚‹ç”»é¢ã‚’æ§‹æˆã—ã€ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹
- ãƒ¦ãƒ¼ã‚¶ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã€ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆã‚’ `ViewModel`ã«ä¼é”
- `UIKit`ã§ã¯ `UIViewController`ã‚‚ `View` ã«å½“ã¦ã¯ã¾ã‚‹

ã€€æœ¬ã‚¢ãƒ—ãƒªã§ã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢ã—ã¦ãã®çµæœã‚’ä¸€è¦§ãƒªã‚¹ãƒˆã§è¡¨ç¤ºã™ã‚‹ `HomeViewController` ã¨ç‰¹å®šã®ãƒªãƒã‚¸ãƒˆãƒªã®è©³ç´°æƒ…å ±ãŒè¦‹ã‚Œã‚‹ `DetailViewController`ãŒã“ã‚Œã«å½“ã¦ã¯ã¾ã‚Šã¾ã™ã€‚<br>
ã€€ä»¥ä¸‹ã¯ `HomeViewController` ã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚Šã€`ViewModel` ã¨ã®ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿ç›¸äº’ä½œç”¨ã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã€`bind` ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å‡¦ç†ã‚’ã—ã¾ã™ã€‚

```swift
// MARK: - Life Cycle & Variables
class HomeViewController: UIViewController {

    private let viewModel = HomeViewModel()
    private var cancellables = Set<AnyCancellable>()
    private var dataSource: UICollectionViewDiffableDataSource<Section, Repositories.Repository>!
    private lazy var repositoryCollectionView: UICollectionView = {
        var config = UICollectionLayoutListConfiguration(appearance: .insetGrouped)
        let layout = UICollectionViewCompositionalLayout.list(using: config)

        let collectionView = UICollectionView(frame: .zero, collectionViewLayout: layout)
        collectionView.delegate = self
        collectionView.backgroundColor = .secondarySystemBackground
        collectionView.contentInsetAdjustmentBehavior = .always
        return collectionView
    }()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        bind()
    }
}

// MARK: - Functions & Logics
extension HomeViewController {
    
    /// ViewModel ã¨ ViewController ã®é–“ã®ãƒ‡ãƒ¼ã‚¿ç›¸äº’ä½œç”¨ã®ãŸã‚ã€bindå‡¦ç†
    private func bind() {
        viewModel.repositoriesSubject
            .receive(on: DispatchQueue.main)
            .sink { [weak self] repositories in
                guard let self, let repositories else { return }
                self.updateSnapshot(repositories: repositories.items)
            }
            .store(in: &cancellables)
        
    }

    // ä»–ã®ã‚³ãƒ¼ãƒ‰ã¯çœç•¥
}

// MARK: - UISearchBarDelegate
extension HomeViewController: UISearchBarDelegate {
    func searchBarSearchButtonClicked(_ searchBar: UISearchBar) {
        guard let searchWord = searchBar.text else { return }
        // Returnã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ ViewModelã§å®šç¾©ã—ãŸsearch logicã‚’å®Ÿè¡Œ
        viewModel.search(queryString: searchWord)
    }
}

// ä»–ã®ã‚³ãƒ¼ãƒ‰ã¯çœç•¥
```

&nbsp;

#### `ViewModel`
- `View` ã¨ `Model`ã®é–“ã®ä¸­é–“ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å½¹å‰²ã‚’æœãŸã™
- `Model` ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã€`View` ãŒä½¿ã„ã‚„ã™ã„å½¢ã«åŠ å·¥ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- UIã«é–¢é€£ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å‡¦ç†ã—ã€`View` ã«ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›
- `View` ã¨å®Œå…¨ã«åˆ†é›¢ã•ã‚Œã¦ãŠã‚Šã€`View` ã® `Life Cycle`ã¨ã¯ç‹¬ç«‹ã—ã¦å‹•ä½œ
- ä¸»ã«ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‚’å‡¦ç†ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’å¸¸ã«ç›£è¦–ï¼ˆObserveï¼‰ã—ã¦æ›´æ–°äº‹é …ã‚’ `View` ã«é€šçŸ¥

ã€€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ `HomeViewController` ã§ä½¿ç”¨ã™ã‚‹ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ« `HomeViewModel` ã®ã‚³ãƒ¼ãƒ‰ã®ä¸€éƒ¨ã§ã™ã€‚<br>
ã€€ã“ã“ã§ãƒ¢ãƒ‡ãƒ«ã§ã‚ã‚‹ `APIClient` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”¨ã„ã¦ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¤œç´¢ã—ã€ãã®çµæœã‚’ãƒ“ãƒ¥ãƒ¼ã§ã‚ã‚‹ `HomeViewController`ã«æ¸¡ã™å½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚<br>
ã€€ã“ã®ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã¯ã€ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ã¨åŠ å·¥ï¼‰ã¨ãƒ“ãƒ¥ãƒ¼ï¼ˆãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºï¼‰ã®é–“ã®ä¸­é–“å±¤ã¨ã—ã¦æ©Ÿèƒ½ã—ã€ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨åŠ å·¥ã€ãƒ“ãƒ¥ãƒ¼ã¸ã®ãƒ‡ãƒ¼ã‚¿æä¾›ã‚’è¡Œã„ã¾ã™ã€‚<br>
ã€€`CurrentValueSubject` ã‚„ `send`ãƒ¡ã‚½ãƒƒãƒ‰ã«é–¢ã—ã¦ã¯å¾Œè¿°ã® `Combine` ã®ç®‡æ‰€ã§èª¬æ˜ã—ã¾ã™ã€‚

```swift
final class HomeViewModel {
    private let apiClient = APIClient()
    var repositoriesSubject = CurrentValueSubject<Repositories?, Never>(nil)
    var repositoriesPublisher: AnyPublisher<Repositories?, Never> {
        return repositoriesSubject.eraseToAnyPublisher()
    }
    
    /// GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã€repositoryã‚’æŒã£ã¦ãã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
    func search(queryString searchWord: String) {
        let trimmedQuery = searchWord.trimmingCharacters(in: .whitespacesAndNewlines)
        guard !trimmedQuery.isEmpty else { return }

        let requestProtocol = GitHubSearchRepositoriesRequest(searchQueryWord: trimmedQuery)
        apiClient.request(requestProtocol, type: GitHubAPIType.searchRepositories) { result in
            switch result {
            case let .success(repositories):
                // model: APIå´ã‹ã‚‰æŒã£ã¦ãã‚‹Repositories
                guard let repositories else { return }
                // VCã«æ¸¡ã™ç”¨ã®instance
                let repositoriesView = Repositories(repositories: repositories)
                // subjectã‚’é€šã—ã¦Modelã‚’é€ã‚‹
                self.repositoriesSubject.send(repositoriesView)
            case let .failure(error):
                print(error.localizedDescription)
            }
        }
    }
}
```


&nbsp;

----------

### Combine

ã€€2019å¹´ Apple ãŒå…¬è¡¨ã—ãŸéåŒæœŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ `Combine` ã‚’åˆ©ç”¨ã—ã¦ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®å®Ÿè£…ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¾ã—ãŸã€‚<br>
ã€€[Combineã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developer.apple.com/documentation/combine) ã«ã‚ˆã‚‹ã¨ã€`Combine` ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚<br>

 > æ™‚é–“ã®çµŒéã«å¿œã˜ã¦å¤‰æ›´ã™ã‚‹å€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ `Publisher` ã¨ã€ãã‚Œã‚’å—ä¿¡ã™ã‚‹ `Subscriber` ã‚’åˆ©ç”¨ã—ã¦æ™‚é–“ã®çµŒéã«å¿œã˜ãŸå€¤ã‚’å‡¦ç†ã™ã‚‹ `Swift` API

ã€€ã¤ã¾ã‚Šã€`Publisher` ã¨ `Subscriber` ã‚’åˆ©ç”¨ã—ã¦åŠ¹ç‡çš„ã«éåŒæœŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«ç™»å ´ã—ãŸã¨æ€ã„ã¾ã™ã€‚`Combine` ã®ç™»å ´å‰ã¯ã“ã®éåŒæœŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®å‡¦ç†ã« `RxSwift` ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚<br>
ã€€ãã‚Œã§ã¯ã€`Combine` ã®ä¸»è¦æ¦‚å¿µã§ã‚ã‚‹ `Publisher` ã¨ `Subscriber`ã€`Operator` ã«ã¤ã„ã¦ã¿ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

&nbsp;

#### ğŸ“ `Publsiher`
ã€€`Publisher` ã¯æ™‚é–“ã®çµŒéã«å¿œã˜ã¦ã€å€¤ã¨å®Œäº†ä¿¡å·ã‚’ç™ºè¡Œã™ã‚‹å½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚ã“ã®å®Œäº†ä¿¡å·ã¯ã€æ­£å¸¸ã«å€¤ã®ç™ºè¡Œã‚’å®Œäº†ã—ãŸã‹ã€ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¦å¤±æ•—ã—ãŸã‹ã‚’è¡¨ã™ä¿¡å·ã§ã™ã€‚<br>

```swift
/// 
public protocol Publisher<Output, Failure> {
    associatedtype Output
    associatedtype Failure : Error

    func receive<S>(subscriber: S) where S : Subscriber, Self.Failure == S.Failure, Self.Output == S.Input
}
```
ã€€ `Publisher` ã¯å¿…ãšã€ï¼’ã¤ã® `Generic Type` ã‚’æŒã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‹ã‚‹ã‚ˆã†ã«ã€`OutPut` ã¨ `Failure` ã®ã‚¿ã‚¤ãƒ—ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ„å‘³ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
  - `Output` : `Publisher` ãŒæ”¾å‡ºã™ã‚‹å€¤ã®ç¨®é¡
  - `Failure` : `Publisher` ãŒæ”¾å‡ºã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡
ã€€   - `Never` : Error ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒãªã„ã®ã‚’æ˜ç¤ºã™ã‚‹ã‚¿ã‚¤ãƒ—

ã€€å¾Œè¿°ã—ã¾ã™ãŒã€`Publisher` ã‹ã‚‰ç™ºè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ `Subscriber` ã® `Input` & `Failure` ã‚‚å½“ç„¶ã« `Publisher` ã® `Output` & `Failure` ã‚¿ã‚¤ãƒ—ã¨ä¸€è‡´ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã§ã™ã€‚<br>
ã€€ã“ã® `Publisher` ã¯ä¸»ã«ä»¥ä¸‹ã®ã‚ˆã†ãªç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚
  - `Just`
  - `Future`
  - `Subject`

æœ¬ã‚¢ãƒ—ãƒªã§ã¯ `Subject` ã‚’ç”¨ã„ãŸé–‹ç™ºã‚’é€²ã‚ãŸãŸã‚ã€ã“ã®æ–‡æ›¸ã§ã¯ `Subject` ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

##### `Subject`
ã€€`Subject` ã¯ã€`Publisher` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æ¡æŠã—ãŸãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã™ã€‚ã¤ã¾ã‚Šã€`Publisher` ã®ä¸€ç¨®ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚<br>
  `Publisher` ãŒå€¤ã‚’ä¿æŒã™ã‚‹ä¸»ä½“ã ã£ãŸã¨ã™ã‚Œã°ã€ã“ã®å€¤ã«ä»–ã®å€¤ã‚’æ³¨å…¥ã§ãã‚‹ã®ãŒ `Subject` ã§ã‚ã‚‹ã¨ç†è§£ã—ã¦ã„ãŸã ã‘ã‚Œã°ã„ã„ã§ã™ã€‚<br>
  `Subject` ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ï¼’ã¤ã®ã‚¯ãƒ©ã‚¹ã§å®Ÿç¾ã•ã‚Œã¾ã™ã€‚
  - `CurrentValueSubject`
  - `PassthroughtSubject`

ã€€å¾Œè¿°ã™ã‚‹ `send` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€šã—ã¦ã€`Publisher` ã‹ã‚‰ç™ºè¡Œã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’è³¼èª­è€… `Subscriber` ã«é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç‰¹ã«ã€`Subject` ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ä¸»ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚<br>
ã€€ãã‚Œã§ã¯ã€ãã‚Œãã‚Œã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

##### `CurrentValueSubject`
- å¸¸ã«æœ€æ–°ã®å€¤ã‚’ä¿æŒã—ã€è³¼èª­ãŒé–‹å§‹ã•ã‚ŒãŸã¨ãã«ãã®å€¤ã‚’å³åº§ã«é€ä¿¡ã—ã¾ã™ã€‚
- åˆæœŸå€¤ã®è¨­å®šãŒå¯èƒ½ã§ã™ã€‚
- ç¾åœ¨ã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
- ä¸Šè¨˜ã®ç†ç”±ã‚ˆã‚Šã€ä¸»ã«ç¾åœ¨ã®çŠ¶æ…‹ã‚’è¿½è·¡ã™ã‚‹ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚

```swift
import Combine

// 0ã«åˆæœŸå€¤ã‚’è¨­å®š
let currentValueSubject = CurrentValueSubject<Int, Never>(0)
// åˆæœŸå€¤ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
print(currentValueSubject.value) // 0

// sinkãƒ¡ã‚½ãƒƒãƒ‰ã§ç™ºè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹
let subscription = currentValueSubject.sink { value in
    print("Received value: \(value)")
}

currentValueSubject.send(1) // "Received value: 1"
currentValueSubject.send(2) // "Received value: 2"
print(currentValueSubject.value) // 2
```

##### `PassthroughSubject`
- å€¤ã‚’ä¿æŒã›ãšã€æ–°ã—ã„å€¤ãŒç™ºè¡Œã•ã‚ŒãŸã¨ãã®ã¿`Subscriber` ã«é€ä¿¡ã—ã¾ã™ã€‚
- éå»ã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒä¸å¯èƒ½ã§ã™ã€‚
- ä¸Šè¨˜ã®ç†ç”±ã‚ˆã‚Šã€ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é€ä¿¡ã«é©ã—ã¦ã„ã¾ã™ã€‚

```swift
import Combine

// åˆæœŸå€¤ã‚’è¨­å®šä¸å¯
let passthroughSubject = PassthroughSubject<String, Never>()
let subscription = passthroughSubject.sink { value in
    print("Received value: \(value)")
}

// éå»ã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
passthroughSubject.send("Hello") // "Received value: Hello"
passthroughSubject.send("World") // "Received value: World"
```

&nbsp;

-------------


#### ğŸ“ `Subscriber`

ã€€å€¤ã‚„å®Œäº†ä¿¡å·ã‚’ç™ºè¡Œã™ã‚‹ `Publisher` ãŒå­˜åœ¨ã™ã‚Œã°ã€ãã‚Œã‚‰ã‚’å—ä¿¡ã—ã¦å‡¦ç†ã™ã‚‹å­˜åœ¨ã‚‚å¿…ç„¶çš„ã«å¿…è¦ã«ãªã‚Šãã†ã§ã™ã‚ˆã­ã€‚ã“ã®å­˜åœ¨ã‚’ `Subscriber` ã¨ã„ã„ã¾ã™ã€‚<br>
ã€€`Subscriber` ã¯ `Publisher` ã‚’è³¼èª­ã™ã‚‹ã“ã¨ã§ã€ãŒç™ºè¡Œã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆå€¤ã€å®Œäº†ä¿¡å·ï¼‰ã‚’å—ä¿¡ã—ã€ãã‚Œã‚‰ã‚’å‡¦ç†ã—ã¾ã™ã€‚<br>
ã€€ã“ã® `Subscriber` ã«ã¯ä¸»ã«ä»¥ä¸‹ã®ã‚ˆã†ãªç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ `Publisher` ã¨ `Subscriber` ã‚’ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆé€£çµï¼‰ã§ãã¾ã™ã€‚
  - `subscribe`
  - `assign`
  - `sink`
  - `receive`

ãã‚Œã§ã¯ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ã¿ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

##### `subscribe`
- `Subscriber` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ç¶™æ‰¿ã—ãŸè³¼èª­è€…ã‚¯ãƒ©ã‚¹ã‚’ç›´æ¥å®šç¾©ã—ã€ç”Ÿæˆã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦è³¼èª­ã—ã¾ã™ã€‚

ã€€ã—ã‹ã—ã€Apple ã¯ã€ç›´æ¥å®Ÿè£…ã—ã¦è³¼èª­ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ãªã„ã‚‰ã—ã„ã§ã™ã€‚<br>
ã€€ã¾ãŸã€å¾Œè¿°ã™ã‚‹ `sink` ãªã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯æ˜ç¤ºçš„ã« `subscribe` ã‚’å®Ÿè£…ã—ãªãã¦ã‚‚æš—é»™çš„ã«å‡¦ç†ã—ã¦ãã‚Œã‚‹ã®ã§ã€å®Ÿå‹™ã§ã¯ `sink` ã‚„ `assign` ã‚’ä½¿ã†ã‚±ãƒ¼ã‚¹ãŒå¤§å¤šæ•°ã®ã‚ˆã†ã§ã™ã€‚<br>
  ä¸‹è¨˜ã«æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ä¾‹ã‚’è¦‹ã‚Œã°ã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ãŒã€é–‹ç™ºã®ã¨ãã«æ¯åº¦ `Publisher` ã”ã¨ã« `Subscriber` ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ãƒ»ç”Ÿæˆã—ã¦ä¸€ã¤ä¸€ã¤å®Ÿç¾ã™ã‚‹æ–¹æ³•ã¯éåŠ¹ç‡ãªã®ã§ã€ã€

```swift
/// 1 ~ 7ã‚’æ”¾å‡ºã™ã‚‹ Publisherã‚’ç”Ÿæˆ
let publisher = (1...7).publisher
  
// Subscriber ã‚’ç¶™æ‰¿ã™ã‚‹ Custom Subscriberã‚’ç”Ÿæˆ
class IntSubscriber: Subscriber {
  
  // type alias ã‚’ç”¨ã„ã¦ ç”Ÿæˆã—ãŸ publisherã® Outputã¨Failure ã‚¿ã‚¤ãƒ—ã¨ä¸€è‡´ã™ã‚‹ Input ã¨ Failureã€€ã‚¿ã‚¤ãƒ—ã‚’å®šç¾©
  typealias Input = Int
  typealias Failure = Never
  
  // publisherã‹ã‚‰ç”Ÿæˆã•ã‚ŒãŸ subscriptionã‚’å—ã‘å–ã‚‹éš›ã«å‘¼ã³å‡ºã•ã‚Œã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
  func receive(subscription: Subscription) {
    // subscription ã® .request(_:) ã‚’å‘¼ã³å‡ºã—ã‚’é€šã—ã¦å—ä¿¡ã™ã‚‹å€¤ã®æ•°ã«åˆ¶é™ãŒãªã„ã“ã¨ã‚’çŸ¥ã‚‰ã›ã‚‹ (åˆ¶é™ã—ãŸã„å ´åˆã¯ .max(æ•°) ã‚’ä½¿ã†)
    subscription.request(.unlimited)
  }

// å„å€¤ã‚’å—ä¿¡ã™ã‚‹éš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
  func receive(_ input: Int) -> Subscribers.Demand {
    // å—ä¿¡ã—ãŸå€¤ã‚’ print
    print("Received value", input)
    // .none ã‚’è¿”ã—ã¦ã€subscriberã®éœ€è¦ã«é–¢ã—ã¦èª¿æ•´ãŒä¸è¦ã§ã‚ã‚‹ã“ã¨ã‚’çŸ¥ã‚‰ã›ã‚‹ (=.max(0))
    return .none
  }

  // å®Œäº†ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã•ã‚Œã‚‹éš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
  func receive(completion: Subscribers.Completion<Never>) {
    // å—ä¿¡å‡¦ç†ã‚’å®Œäº†ã—ãŸã“ã¨ã‚’ print
    print("Received completion", completion)
  }
}
  
// ä¸Šè¨˜ã§ä½œæˆã—ãŸã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
let subscriber = IntSubscriber()
// publisherã«subscribeãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã¤ã‘ã¦ä½¿ç”¨
publisher.subscribe(subscriber)

// å‡ºåŠ›çµæœ
Received value 1
Received value 2
Received value 3
Received value 4
Received value 5
Received value 6
Received value 7
Received completion finished
```

##### `assign`
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ç›´æ¥å€¤ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã¨ãã«ä½¿ç”¨ã—ã¾ã™ã€‚
- å®Œäº†ã‚·ã‚°ãƒŠãƒ«ã‚„ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã¯å‡¦ç†ã—ã¾ã›ã‚“ã€‚

```swift
class CustomClass {
    var receivedInt: Int = 0 {
        didSet {
            print("Received Int : \(receivedInt)", terminator: "\n")
        }
    }
}

var customObject = CustomClass()
let customRange = (0...3)
cancellable = customRange.publisher
    .assign(to: \.receivedInt, on: customObject)

// å‡ºåŠ›çµæœ (å®Œäº†ä¿¡å·ã¯å‡ºåŠ›ã•ã‚Œãªã„)
Received Int : 0
Received Int : 1
Received Int : 2
Received Int : 3

```

##### `sink`
- å€¤ã¨å®Œäº†åŠã³ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã®ä¸¡æ–¹ã‚’å‡¦ç†ã§ãã¾ã™ã€‚
- å€¤ã‚’å‡¦ç†ã™ã‚‹éš›ã«ä½¿ã‚ã‚Œã‚‹æœ€ã‚‚ä¸€èˆ¬çš„ãªæ–¹æ³•ã§ã™ã€‚

```swift
let customRange = (0...3)
cancellable = customRange.publisher
    .sink(receiveCompletion: { print ("completion: \($0)") },
          receiveValue: { print ("Received Value: \($0)") })

// å‡ºåŠ›çµæœ
//  Received Value: 0
//  Received Value: 1
//  Received Value: 2
//  Received Value: 3
//  completion: finished
```

ã€€`sink` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€šã—ã¦ã€å€¤ãŒç™ºè¡Œã•ã‚ŒãŸæ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ `receiveValue` ã¨ `Publihser` ãŒæ­£å¸¸ã«çµ‚äº†ã—ãŸã‚Šã€`Error` ãŒèµ·ãã¦çµ‚äº†ã—ãŸæ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ `receiveCompletion` ã‚¯ãƒ­ãƒ¼ã‚¶ãƒ¼ã‚’ç”¨ã„ã¦ã€å€¤ã‚„ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

##### `receive`
- `Publisher` ã®å€¤ã‚’ç‰¹å®šã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§å—ä¿¡ã—ãŸã‚Šã€å¾Œè¿°ã™ã‚‹ `Operator` ã®ãƒã‚§ãƒ¼ãƒ³å†…ã§å€¤ã‚’æ¸¡ã™ã¨ãã«ä½¿ç”¨ã—ã¾ã™ã€‚
  - ã“ã“ã§ã€ã€Œãƒã‚§ãƒ¼ãƒ³å†…ã€ã¨ã„ã®ã¯ã€è¤‡æ•°ã® `Operator` ã‚’é †ç•ªã«çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚
- å®Œäº†ãŠã‚ˆã³ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã¯å‡¦ç†ã—ã¾ã›ã‚“ã€‚

`receive`ã¯ `Publisher` ã¨ `Subscriber` ã‚’ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹ã¨ã„ã†èªè­˜ã‚ˆã‚Šã‹ã¯ã€ã‚¹ãƒ¬ãƒƒãƒ‰ã®æŒ‡å®šã®ã¨ãã«ã‚ˆãä½¿ã‚ã‚Œã‚‹ã®ã§ã€ã“ã“ã«è¨˜è¼‰ã™ã‚‹ã‹è¿·ã£ãŸã‚“ã§ã™ãŒã€ä¸€å¿œ `å—ä¿¡ã™ã‚‹`ã¨ã„ã†è¦³ç‚¹ã‹ã‚‰å…¥ã‚Œã¦ãŠãã¾ã—ãŸã€‚

```swift
let subject = PassthroughSubject<String, Never>()

let subscription = subject
    .receive(on: DispatchQueue.main) // ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å—ä¿¡ (å‚è€ƒï¼šUIã® Drawingã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹)
    .sink { value in
        print("Received Value: \(value)")
    }

subject.send("Hello, Combine!")

// å‡ºåŠ›çµæœ
//  Received Value: Hello, Combine!
```

æ¬¡ã« `Publisher` ã¨ `Subscriber` ã®é–“ã®é–¢ä¿‚ã‚’ç®¡ç†ã—ã€éåŒæœŸå‡¦ç†ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã«ä½¿ã‚ã‚Œã‚‹ `store` ã¨ `AnyCancellable` ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

##### `store`
- `AnyCancellable` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’Setã«ä¿å­˜ã—ã€ãƒ¡ãƒ¢ãƒªç®¡ç†ã‚’æ”¯æ´ã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚
- `Publisher` ãŒç”Ÿæˆã™ã‚‹ `AnyCancellable` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã“ã®Setã«ä¿å­˜ã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã™ã¹ã¦ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹ã¾ã§ `Publisher` ã¨ `Subscriber` ã®é–¢ä¿‚ã‚’ç¶­æŒã—ã¾ã™ã€‚

##### `AnyCancellable`
- `Subscriber` ãŒ `Publisher` ã‚’è³¼èª­ã™ã‚‹éš›ã«è¿”ã•ã‚Œã‚‹å‹ã§ã™ã€‚
- ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ `Subscriber` ãŒ `Publisher` ã¨ã®è³¼èª­ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã¾ã™ã€‚

ã€€ã¾ã¨ã‚ã‚‹ã¨ã€`store` ã§ `AnyCancellable` ã‚’ä¿æŒã—ã¦ãŠã„ã¦ã€å½“è©²ã®å¤‰æ•°ãŒ `deinit` ã•ã‚Œã‚‹ã¨ãã€è³¼èª­ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹æ–¹æ³•ã«ãªã‚Šã¾ã™ã€‚<br>
ã€€`Set` ã§è¤‡æ•°ã®Subscriptionï¼ˆè³¼èª­ï¼‰ã‚’ï¼‘ã¤ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã€`Subscription` ã®å€¤ã‚’ä¿æŒã—ã¾ã™ã€‚<br>
ã€€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```swift
/// ViewModel
private let viewModel = HomeViewModel()
private var cancellables = Set<AnyCancellable>()

// repositoriesSubjectã¯ viewModelå´ã§å®šç¾©ã—ãŸ CurrentValueSubjectã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
viewModel.repositoriesSubject
   .receive(on: DispatchQueue.main)
   .sink { [weak self] repositories in
      guard let self, let repositories else { return }
      self.updateSnapshot(repositories: repositories.items)
   }
   .store(in: &cancellables)

// ä»–ã®ã‚³ãƒ¼ãƒ‰çœç•¥
```

&nbsp;

-------------

#### ğŸ“ `Operator`
ã€€`Publisher` ãŒç™ºè¡Œã™ã‚‹å€¤ã‚’å¤‰æ›ãƒ»æ“ä½œã€ã¾ãŸã¯ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ã•ã¾ã–ã¾ãªæ¼”ç®—å­ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å‡¦ç†ã—ã€å¸Œæœ›ã™ã‚‹å½¢ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã€€`Operator` ã‚’åŠ¹ç‡çš„ã«ä½¿ã†ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
  `Operator` ã«ã¯ `map`, `filter`, `flatMap`ãªã©ãŒå½“ã¦ã¯ã¾ã‚Šã¾ã™ãŒã€ä»Šå›æ–°ã—ãå­¦ã‚“ã  `CombineLatest` ã¨ `eraseToAnyPublisher` ã«ã¤ã„ã¦ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

##### `CombineLatest`
- è¤‡æ•°ã® `Publisher` ã‹ã‚‰ã®æœ€æ–°ã®å€¤ã‚’çµ„ã¿åˆã‚ã›ã¦æ–°ã—ã„å€¤ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
- å„ `Publisher` ãŒæ–°ã—ã„å€¤ã‚’å‡ºã™ãŸã³ã«ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ã¦æ–°ã—ã„å‡ºåŠ›ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

ã€€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```swift
import Combine

// Publisher å´ã®å½¹å‰²ã¨ã—ã¦ã€PassthroughSubject ã‚’ç”¨æ„
let publisher1 = PassthroughSubject<Int, Never>()
let publisher2 = PassthroughSubject<String, Never>()

// CombineLatest ã§çµ„ã¿åˆã‚ã›ãŸ Publisher ã‚’å®šç¾©ã—ã€å‡ºåŠ›ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« print ã™ã‚‹ sink ã‚’è¨­å®šã™ã‚‹
let combined = Publishers.CombineLatest(publisher1, publisher2)
    .map { "\($0) \($1)" } // çµ„ã¿åˆã‚ã›ãŸå„å€¤ã‚’ä¸€ã¤ã®æ–‡å­—åˆ—ã«ãƒãƒƒãƒ—ï¼ˆã‚¿ã‚¤ãƒ—ã®å¤‰æ›ï¼‰
    .sink { print("Combined value: \($0)") }

publisher1.send(1)
publisher2.send("A")
publisher1.send(2)
publisher2.send("B")

// å‡ºåŠ›çµæœã¯sendã®é †ï¼ˆæœ€æ–°ã®å€¤ï¼‰
Combined value: 1 A
Combined value: 2 A
Combined value: 2 B
```

##### `eraseToAnyPublisher`
- å‹æ¶ˆå»ã‚’è¡Œã„ã€å…·ä½“çš„ãª `Publisher` ã®å‹ã‚’éå…¬é–‹ã® `AnyPublisher` å‹ã«å¤‰æ›ã—ã¾ã™ã€‚
- `Publisher` ã®å‹ã®è©³ç´°ã‚’éš è”½ã§ãã‚‹ãŸã‚ã€å¤–éƒ¨ã«éœ²å‡ºã›ãš Type Safety ã‚’ä¿ã¡ãªãŒã‚‰ã‚‚ã‚³ãƒ¼ãƒ‰ã‚’ç°¡æ½”ã«ä¿ã¤ã“ã¨ãŒã§ãã¾ã™ã€‚
- API è¨­è¨ˆã‚’å˜ç´”åŒ–ã—ã€ä½¿ã†å´ã¯ `Publisher` ã®ã‚¿ã‚¤ãƒ—ã«å¯¾ã™ã‚‹çŸ¥è­˜ãŒãªãã¦ã‚‚ã€ä½¿ç”¨ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚

ã€€[eraseToAnyPublisherã®å½¹å‰²ãƒ»ä½¿ç”¨åˆ©ç‚¹ (éŸ“å›½ã‚µã‚¤ãƒˆ)](https://0urtrees.tistory.com/366) ã‚’å‚è€ƒã«ã—ãŸå®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```swift
// eraseToAnyPublisher æœªä½¿ç”¨
final class APIClient {
ã€€ã€€// return ã®æ–¹ã§ä¸€ç•ªä¸‹ã«æ›¸ã„ãŸãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆreceive(on: _)ï¼‰ã‚’å…ˆã«è¨˜è¿°ã™ã‚‹ï¼ˆPublishers.ReceiveOn<>ï¼‰
   // Operator ã‚’å¤šãä½¿ç”¨ã—ãŸå ´åˆã€è¤‡é›‘ãªã‚¿ã‚¤ãƒ—ã‚’å¤‰æ›ã™ã‚‹ã“ã¨ã«ãªã‚‹
   // å¿…è¦ã«å¿œã˜ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­é–“æ¼”ç®—éç¨‹ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†å…¨ã¦ã®æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹
   func fetchWeather1(
      city: String
   ) -> Publishers.ReceiveOn<Publishers.Catch<Publishers.Map<Publishers.Decode<Publishers.MapKeyPath<URLSession.DataTaskPublisher, Data>, WeatherResponse, JSONDecoder>, Weather>, Empty<Weather, Error>>, RunLoop> {
      guard let url = URL(string: Constants.weather(city: city)) else { fatalError("Invalid URL!") }
      return URLSession.shared.dataTaskPublisher(for: url)
         .map(\.data) // KeyPathã‚’ç”¨ã„ã¦ data, responeã®ä¸­ã€dataã®ã¿ã‚’æŠ½å‡ºã—ã¦downstreamã«ç§»å‹•ã•ã›ã‚‹
         .decode(type: WeatherResponse.self, decoder: JSONDecoder()) // ãƒ‡ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
         .map { $0.main } // ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ãŸWeatherResponseã®mainï¼ˆ Weather ãƒ•ã‚£ãƒ«ãƒ‰ ï¼‰ã®ã¿ã‚’downstreamã«ç§»å‹•ã•ã›ã‚‹
         .catch { _ in Empty<Weather, Error>() } // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«ã€Empty Typeã«è¿”ã™
         .receive(on: RunLoop.main) // main threadã§å—ã‘å–ã£ã¦å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã™ã‚‹
   }
}

// eraseToAnyPublisher ä½¿ç”¨
final class APIClient {
   // ä¸­é–“ã®æ¼”ç®—éç¨‹ãŒéœ²å‡ºã•ã‚Œãšã€OutPutã¨ Error ã‚¿ã‚¤ãƒ—ã ã‘ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚‹
   // å¤–éƒ¨ã‹ã‚‰ã¯æŠ½è±¡åŒ–ã•ã‚ŒãŸ AnyPublisherã€€ã‚¿ã‚¤ãƒ—ã‚’ä½¿ã†ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚‚å‘ä¸Šã•ã‚Œã‚‹
   // ã¤ã¾ã‚Šã€å¤–éƒ¨ã®ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ä¸ãˆãªã„
   func fetchWeather2(city: String) -> AnyPublisher<Weather, Error> {
      guard let url = URL(string: Constants.weather(city: city)) else { fatalError("Invalid URL !") }
      return URLSession.shared.dataTaskPublisher(for: url)
         .map(\.data)
         .decode(type: WeatherResponse.self, decoder: JSONDecoder())
         .map { $0.main }
         .catch { _ in Empty<Weather, Error>() }
         .receive(on: RunLoop.main)
         .eraseToAnyPublisher()
   }
}
```

&nbsp;

-------------

### UICollectionViewDiffableDataSource
`UICollectionViewDiffableDataSource` ã¯ã€`UICollectionView` ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ã‚ˆã‚Šç°¡å˜ã‹ã¤å®‰å…¨ã«ç®¡ç†ã§ãã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚<br>
æ—¢å­˜ã«ä½¿ã£ã¦ã„ãŸ `UICollectionViewDataSource` ã¨ã®ç›¸é•ç‚¹ã¨ã—ã¦ã¯ã€ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ(`Snapshot`) ã‚’ä½¿ç”¨ã—ã¦å¤‰æ›´äº‹é …ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨å…±ã«å®‰å…¨ã«é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ã§ã™ã€‚

```swift
private enum Section: CaseIterable {
    // ä»Šå›ã¯sectionï¼‘ã¤ã—ã‹ä½¿ã‚ãªã„ã®ã§ã€mainã ã‘å®šç¾©
    case main
}

// MARK: - Life Cycle & Variables
class HomeViewController: UIViewController {

    // ä»–ã®ã‚³ãƒ¼ãƒ‰çœç•¥

    private var dataSource: UICollectionViewDiffableDataSource<Section, Repositories.Repository>!
    private lazy var repositoryCollectionView: UICollectionView = {
        var config = UICollectionLayoutListConfiguration(appearance: .insetGrouped)
        let layout = UICollectionViewCompositionalLayout.list(using: config)

        let collectionView = UICollectionView(frame: .zero, collectionViewLayout: layout)
        collectionView.delegate = self
        collectionView.backgroundColor = .secondarySystemBackground
        collectionView.contentInsetAdjustmentBehavior = .always
        return collectionView
    }()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        setupUI()
        bind()
    }
}

// MARK: - Functions & Logics
extension HomeViewController {
    /// ViewControllerã®UIã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹
    private func setupUI() {
        view.backgroundColor = .secondarySystemBackground
        
        setupNavigationController()
        setupDataSource()
        setAddSubViews()
        setupConstraints()
    }
    
    /// CollectionViewã®Datasource è¨­å®š
    private func setupDataSource() {
        /// RepositoryCollectionViewCellã‚’CellRegistrationã§è¨­å®š
        let repositoryCell = UICollectionView.CellRegistration<RepositoryCollectionViewCell, Repositories.Repository>() { cell, indexPath, repository in
            // <Cellã®Type(ã‚¯ãƒ©ã‚¹åã¨ã‹), Itemã§è¡¨ç¤ºã™ã‚‹ã‚‚ã®>
            cell.backgroundColor = .white
            cell.configure(with: repository)
            // cellã«UICellAccessoryï¼ˆaccessoriesï¼‰ã‚’è¿½åŠ 
            cell.accessories = [
                .disclosureIndicator()
            ]
        }

        // DiffableDataSourceã®åˆæœŸåŒ–
        dataSource = UICollectionViewDiffableDataSource<Section, Repositories.Repository>(collectionView: repositoryCollectionView) { collectionView, indexPath, repository in
            return collectionView.dequeueConfiguredReusableCell(using: repositoryCell, for: indexPath, item: repository)
        }
        /// DataSourceã«è¡¨ç¤ºã™ã‚‹Sectionã¨Itemã®ç¾åœ¨ã®UIã®çŠ¶æ…‹
        var snapshot = NSDiffableDataSourceSnapshot<Section, Repositories.Repository>()
        // Snapshotã®åˆæœŸåŒ–
        // appendSections: snapShotã‚’é©ç”¨ã™ã‚‹Sectionã‚’è¿½åŠ 
        // apply(_ :animatingDifferences:) : è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨ã«ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã®ã§ã¯ãªãã€incremental updates(å¢—åˆ†æ›´æ–°)ã‚’å®Ÿè¡Œã—ã¦DataSourceã«Snapshotã‚’é©ç”¨ã™ã‚‹
        snapshot.appendSections([.main])
        dataSource.apply(snapshot, animatingDifferences: true)
    }
    
    /** ViewModelãªã©ViewControllerå´ã§å¸¸ã«ç›£è¦–ã—ã¦ãŠãã¹ãå¯¾è±¡ã‚’ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
     ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«æ­£å¸¸ã«ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‰ã‚’ã™ã‚‹ãŸã‚ã«ã€Observerã‚’è¨­å®šã™ã‚‹æ„Ÿã˜
     
    - Combineã§æµã‚ŒãŸããŸãƒ‡ãƒ¼ã‚¿ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆsinkã™ã‚‹
    - sink : Publisherã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã™ã‚‹.  ã¤ã¾ã‚Šã€ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ãŸã¨ãã®å‡¦ç†ã‚’æŒ‡å®šã§ãã‚‹ã€‚
    - receive(on:)ï¼šã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’æŒ‡å®šã™ã‚‹
    - store: cancellabeãªã©ã‚’ä¿
     */
    private func bind() {
        viewModel.repositoriesSubject
            .receive(on: DispatchQueue.main)
            .sink { [weak self] repositories in
                guard let self, let repositories else { return }
                self.updateSnapshot(repositories: repositories.items)
            }
            .store(in: &cancellables)
    }

    // viewModelã‹ã‚‰å—ã‘å–ã£ãŸå€¤ã‚’snapShotã®æ›´æ–°ã‚’é€šã—ã¦ã€ç”»é¢ã«åæ˜ ã•ã›ã‚‹
    private func updateSnapshot(repositories: [Repositories.Repository]) {
        /// DataSourceã«é©ç”¨ã—ãŸç¾åœ¨ã®SnapShotã‚’å–å¾—
        var snapshot = dataSource.snapshot()
        // reloadItemsã¯æ—¢å­˜ã‚»ãƒ«ã®ç‰¹å®šã®Cellã ã‘ã‚’Reloadã™ã‚‹ã®ã§ã€deleteã—ãŸã‚ã¨ã«æ”¹ã‚ã¦appendã™ã‚‹å½¢ã§Snapshoté©ç”¨
        snapshot.deleteAllItems()
        snapshot.appendSections([.main])
        snapshot.appendItems(repositories, toSection: .main)
        dataSource.apply(snapshot, animatingDifferences: true)
    }
}

// MARK: - UICollectionViewDelegate
extension HomeViewController: UICollectionViewDelegate {
    func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
        guard let repository = viewModel.repositoriesSubject.value?.items[indexPath.row] else { return }
        let detailViewController = DetailViewController(repository: repository)
        navigationController?.pushViewController(detailViewController, animated: true)
        collectionView.deselectItem(at: indexPath, animated: true)
    }
}
```
&nbsp;

-------------

### UICollectionViewCompositionalLayout
`UICollectionViewCompositionalLayout` ã¯ã€è¤‡é›‘ã§å¤šæ§˜ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç°¡å˜ã«æ§‹æˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¯ãƒ©ã‚¹ã§ã™ã€‚<br>
ã•ã¾ã–ã¾ãªã‚¢ã‚¤ãƒ†ãƒ ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’çµ„ã¿åˆã‚ã›ã¦ã€æŸ”è»Ÿãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚<br>
ã¾ãŸã€`UICollectionViewCell`Â ã®ã‚µã‚¤ã‚ºã‚’å‹•çš„ã«è¨ˆç®—ã—ã¦ãã‚Œã‚‹ã®ã§ã€æ—¢å­˜ã® `Cell` ã® `height`Â ã‚„Â `width`Â ã®ã‚ˆã†ãªã‚µã‚¤ã‚ºã‚’å‹•çš„ã«è¨ˆç®—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ãŸ `UICollectionViewDelegateFlowLayout` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã® `sizeForItemAt` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚<br>

```swift
var config = UICollectionLayoutListConfiguration(appearance: .insetGrouped)
let layout = UICollectionViewCompositionalLayout.list(using: config)
```
`UICollectionLayoutListConfiguration` ã¯ã€ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã® CollectionView ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã—ãŸã€‚<br>
`appearance` ã¯ãƒªã‚¹ãƒˆã®å¤–è¦³ã‚’è¨­å®šã—ã¦ãŠã‚Šã€ã“ã“ã§ `insetGrouped` ã¯ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡ã—ã¾ã™ã€‚<br>
`UICollectionViewCompositionalLayout.list(using:)` ã¯ã€ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚<br>
ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã® `UICollectionView` ã‚’ç°¡å˜ã«è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã¾ã™ã€‚<br>
æœ¬ã‚¢ãƒ—ãƒªã§ã¯ã€è¨­å®šã‚¢ãƒ—ãƒªã® TableView ã«ä¼¼ãŸUIã‚’ä½œæˆã•ãŸã‹ã£ãŸã®ã§ã€`UICollectionLayoutListConfiguration` ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚

&nbsp;

-------------

## ğŸ¯ å®Ÿè£…æ™‚ã«æ„è­˜ã—ãŸã“ã¨

### Extensionæ´»ç”¨

```swift
/// Status Codeã®å€¤ã”ã¨ã«æœ‰åŠ¹ã§ã‚ã‚‹ã‹ç„¡åŠ¹ã§ã‚ã‚‹ã‹ã‚’å®šç¾©ã—ã¦ãŠããŸã‚ã®Extension
extension HTTPURLResponse {
    func isResponseAvailable() -> Bool {
        return (200...299).contains(self.statusCode)
    }
}

// MARK: - UISearchBarDelegate
extension HomeViewController: UISearchBarDelegate {
    /// Return(æ¤œç´¢)ã‚­ãƒ¼ã‚’ã‚¿ãƒƒãƒ—ã—ãŸã¨ãã®å‡¦ç†
    func searchBarSearchButtonClicked(_ searchBar: UISearchBar) {
        guard let searchWord = searchBar.text else { return }
    }
    // ä»–ã¯çœç•¥
}

// MARK: - Life Cycle & Variables
class HomeViewController: UIViewController {
    private let viewModel = HomeViewModel()
    private let loadingView = LoadingView()
    private let readyView = ReadySearchView()

    // ä»–ã¯çœç•¥
}

// MARK: - Functions & Logics
extension HomeViewController {
    /// ViewControllerã®UIã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹
    private func setupUI() {
        view.backgroundColor = .secondarySystemBackground
        
        setupNavigationController()
        setupDataSource()
        setAddSubViews()
        setupConstraints()
    }

    // ä»–ã¯çœç•¥
}
```

- `extension`ã‚’ç”¨ã„ã¦ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„ã‚¿ã‚¤ãƒ—ã‚’ä¿®æ­£ã™ã‚‹ã“ã¨ãªãã€æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«è¨˜è¼‰ã—ãŸ`HTTPURLResponse`ã®ã‚ˆã†ã« `isResponseAvailable` ã®é–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€è¤‡æ•°ã®å ´æ‰€ã§åŒæ§˜ã®æ©Ÿèƒ½ãŒä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’æ¸›ã‚‰ã™ã“ã¨ã‚’æ„è­˜ã—ã¾ã—ãŸã€‚

- `UISearchBarDelegate`ã®ã‚ˆã†ã« deleage ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ `extension`ã‚’ä½¿ã£ã¦è²¬ä»»ã®åˆ†é›¢ã‚’ã—ã¦ãŠãã€ç‰¹å®šã®æ©Ÿèƒ½ã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ã¦ç®¡ç†ã—ã‚„ã™ãã—ã¾ã—ãŸã€‚

- äººã®å¥½ã¿ã«ã‚ˆã‚‹ã¨æ€ã„ã¾ã™ãŒã€`ViewController`ã‚„ `View`ã®`class`ã®å®šç¾©ã™ã‚‹éš›ã«ã€`extension`ã‚’ç”¨ã„ã¦ã€Œãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã¨ã€Œãƒ­ã‚¸ãƒƒã‚¯ãƒ»é–¢æ•°ã€ã‚’åˆ†é›¢ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
  - ç†ç”±ã¨ã—ã¦ã¯ã€`class`ã®ã‚³ãƒ¼ãƒ‰ãŒé•·ããªã‚Šéããªã„ã‚ˆã†ã«ä¸€åº¦ `extension` ã§åŒºåˆ‡ã£ã¦æ•´ç†ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚’å‘ä¸Šã•ã›ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚
  - ã¾ãŸã€delegateãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ `extension`ã‚’ä½¿ã£ã¦è²¬ä»»åˆ†é›¢ã‚’è¡Œãªã†ã®ã¨åŒæ§˜ã«ã€ãƒ­ã‚¸ãƒƒã‚¯ã®éƒ¨åˆ†ã¨ã‚¯ãƒ©ã‚¹ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’åˆ†é›¢ã—ã¾ã—ãŸã€‚

&nbsp;

### AutoLayout

æœ¬ã‚¢ãƒ—ãƒªã§ã¯ `SnapKit`ã‚’ç”¨ã„ã¦ AutoLayoutã®è¨­å®šã‚’ã—ã¾ã—ãŸã€‚ä»Šå›ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ç”»é¢ã®UIã‚’è¨­å®šã™ã‚‹ã®ãŒæŠ€è¡“çš„ãªåˆ¶é™ã¨ã—ã¦è¨­ã‘ã‚‰ã‚ŒãŸã®ã§ã€`Storyboard`ãªã—ã§é–‹ç™ºã‚’é€²ã‚ã¾ã—ãŸã€‚
`SnapKit` ã‚’åˆ©ç”¨ã—ãŸçµŒç·¯ã¯éå»ã®çµŒé¨“ã‹ã‚‰ä»¥ä¸‹ã®ã“ã¨ã‚’æ„Ÿã˜ãŸã‹ã‚‰ã§ã™ã€‚
  > "ç”»é¢ã®æ•°ãŒå¤šãã¦è¤‡é›‘ã«ãªã£ã¦ã€Storyboard ã®æ•°ãŒå¢—ãˆã¦ã„ã‚‹.. Storybardè‡ªä½“ã‚‚é‡ããªã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ããŸã³ã«XcodeãŒè½ã¡ã¡ã‚ƒã†..."<br>
  > "Storyboardã£ã¦ä½¿ã‚ãªãã¦ã„ã„ã‚ˆã­ï¼Ÿ"<br>
  > "Storyboardãªã—ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® constraint ã‚’ã‚³ãƒ¼ãƒ‰ã§å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ï¼"<br>
  > "ã‚ã‚Œï¼Ÿã‚„ã£ã¦ã¿ãŸã‚‰ã€constraint ã‚’è¿½åŠ ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚‚é•·ããªã¡ã‚ƒã£ãŸãª.."<br>
  > "SnapKit ä½¿ã£ã¦ã¿ãŸã‚‰ã€ä¾¿åˆ©..!"<br>

ãªãœã€`SnapKit` ã‚’ä½¿ã£ã¦ä¾¿åˆ©ã ã¨æ€ã£ãŸã‹ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã—ãªãŒã‚‰ã€èª¬æ˜ã—ã¾ã™ã€‚

```swift
// SnapKit æœªä½¿ç”¨
mainStackView.translatesAutoresizingMaskIntoConstraints = false
view.addSubview(mainStackView)

NSLayoutConstraint.activate([
    mainStackView.topAnchor.constraint(equalTo: view.topAnchor).isActive = true,
    mainStackView.leadingAnchor.constraint(equalTo: view.leadingAnchor).isActive = true,
    mainStackView.trailingAnchor.constraint(equalTo: view.trailingAnchor).isActive = true,
    mainStackView.bottomAnchor.constraint(equalTo: view.bottomAnchor).isActive = true
])

// SnapKit ä½¿ç”¨
mainStackView.snp.makeConstraints { constraint in
    constraint.edges.equalToSuperview()
    // ä¸Šè¨˜ã¨ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯åŒã˜å‹•ä½œã‚’ã™ã‚‹
    // constraint.leading.top.trailing.bottom.equalToSuperview()
}

// ã¾ãŸã¯
mainStackView.snp.makeConstraints {
    $0.edges.equalToSuperview()
}
```

- ä¸Šè¨˜ã«ç¤ºã—ãŸã€ŒSnapKitã€€ä½¿ç”¨ã€ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã€ã€Œæœªä½¿ç”¨ã®ä¾‹ã€ã‚ˆã‚Šç°¡æ½”ã§ç›´æ„Ÿçš„ã«ãªã£ã¦ãŠã‚Šã€å¯èª­æ€§ãŒå‘ä¸Šã•ã‚ŒãŸã¨æ„Ÿã˜ã¾ã™ã€‚

- ã¾ãŸã€`SnapKit`ã¯ `constraint.edges.equalToSuperview()` ã‚„ã€€`constraint.leading.top.trailing.bottom.equalToSuperview()` ã®ã‚ˆã†ã«ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã§è¤‡æ•°ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä¸€åº¦ã«åˆ¶ç´„ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã€`NSLayoutConstraints`ã‚ˆã‚Šã‚³ãƒ¼ãƒ‰ã®é‡ã‚’æ¸›ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã“ã‚Œã¯å®Ÿè£…ä¸­ã«æ°—ã¥ã„ãŸã“ã¨ã§ã™ãŒã€`SnapKit`ã¯å†…è£…ã‚³ãƒ¼ãƒ‰ã« `translatesAutoresizingMaskIntoConstraints`ã‚’ `false`ã«ã™ã‚‹è¨­å®šãŒã‚ã‚‹ãŸã‚ã€åˆ¥é€”ã«åŒæ§˜ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¼‰ã™ã‚‹å¿…è¦ãŒãªã„ã®ã§ä¾¿åˆ©ã§ã—ãŸã€‚

- ä»Šåº¦ã¯ `VFL (Visual Format Language)`ã‚’å°å…¥ã—ã¦ã€åˆ¶ç´„ã®è¨­å®šã‚’ã‚ˆã‚Šè¦–è¦šçš„ã«å®Ÿè£…ã™ã‚‹ã“ã¨ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã‚ˆã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚

&nbsp;

### å‚ç…§åŠã³ARCé–¢é€£
Swiftã§ã¯ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨ã‚’è¿½è·¡ã—ã¦ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€ãã‚Œã‚‰ã‚’è‡ªå‹•çš„ã«å‡¦ç†ã™ã‚‹ ARC(Automatic Reference Counting) ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚<br>
ã€€
ARC ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã¦ãƒ¡ãƒ¢ãƒªæ¼ã‚Œã‚’é˜²æ­¢ã—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚‚ã¯ã‚„å¿…è¦ãªã„ã¨ãã«ãƒ¡ãƒ¢ãƒªã‚’è§£é™¤ã—ã¾ã™ã€‚<br>
ã¤ã¾ã‚Šã€ãƒ¡ãƒ¢ãƒªã®å‚ç…§å›æ•°ã‚’è¨ˆç®—ã—ã¦ã€å‚ç…§å›æ•°ãŒ 0 ã«ãªã‚Œã°ã€ã“ã‚Œä»¥ä¸Šä½¿ã‚ãªã„ãƒ¡ãƒ¢ãƒªã ã¨æ€ã£ã¦è§£é™¤ã—ã¦ãã‚Œã‚‹ã¨ã„ã†ä»•çµ„ã¿ã«ãªã£ã¦ã„ã¾ã™ã€‚<br>
ã“ã“ã§ã€RC ã¨ã¯ã€ã‚ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç¾åœ¨èª°ãŒæŒ‡ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’æ•°å­—ã§è¡¨ã—ãŸã‚‚ã®ã§ã™ã€‚
ã“ã® ARC ã«ãŠã„ã¦é‡è¦ãªæ¦‚å¿µã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
  - å¼·å‚ç…§ï¼ˆstrong referenceï¼‰
  - å¼±å‚ç…§ï¼ˆweak referenceï¼‰
  - å¾ªç’°å‚ç…§ï¼ˆretain cycleï¼‰

#### å¼·å‚ç…§
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‚ç…§ã‚¿ã‚¤ãƒ—ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¶­æŒã—ã¾ã™ã€‚
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¼·å‚ç…§ã§æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã¨ã€å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆãŒå¢—åŠ ã—ã€ã“ã®ã‚«ã‚¦ãƒ³ãƒˆãŒ 0 ã«ãªã‚‹ã¾ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ¡ãƒ¢ãƒªã‹ã‚‰è§£æ”¾ã•ã‚Œã¾ã›ã‚“ã€‚

```swift
class Person {
    // å¼·å‚ç…§
    var name: String
    var city: City? // Optionalã‚¿ã‚¤ãƒ—ã®æœ‰ç„¡ã¯ å‚ç…§ã®å¼·åº¦ã¨ã¯é–¢ä¿‚ãªã„
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print("\(name) is being deinitialized")
    }
}

class City {
    var name: String
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print("\(name) is being deinitialized")
    }
}

var person: Person? = Person(name: "Kyulee")
var city: City? = City(name: "Tokyo")

person?.city = city  // person ãŒ city ã‚’å¼·ãå‚ç…§
city = nil  // city ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ nil ã§ã‚ã‚‹ãŒã€ person ãŒå¼·å‚ç…§ã‚’ç¶­æŒ
person = nil  // ã“ã“ã§ã€person ã¨ pet ã€ä¸¡æ–¹ã¨ã‚‚ deinit ã•ã‚Œã‚‹

// å‡ºåŠ›çµæœ (ä¸Šã‹ã‚‰ã®é †ç•ª)
Kyulee is being deinitialized
Tokyo is being deinitialized

```

#### å¼±å‚ç…§
- å¼±å‚ç…§ã¯å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã‚’å¢—åŠ ã•ã›ã‚‹ã“ã¨ã¯ãªãã€å‚ç…§å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè§£é™¤ã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã« `nil` ã«è¨­å®šã•ã‚Œã¾ã™ã€‚
- å¼±å‚ç…§ã¯å¸¸ã« `Optional` ã‚¿ã‚¤ãƒ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç†ç”±ã¨ã—ã¦ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè§£é™¤ã•ã‚ŒãŸã¨ãã« `nil` ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚
- å¼±å‚ç…§ã¯ã€å‚ç…§å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè§£æ”¾ã•ã‚ŒãŸå¾Œã‚‚å®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
- ä¸»ã«å¼·ã„å‚ç…§å¾ªç’°ã‚’é¿ã‘ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
- `weak` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã®å¢—åŠ ã‚’é˜²ã’ã¾ã™ã€‚ 

```swift
class Person {
    var name: String
    // å¼±å‚ç…§
    weak var friend: Person?
    
    init(name: String) {
        self.name = name
    }
}

var person1: Person? = Person(name: "Kyu")
var person2: Person? = Person(name: "Lee")

person1?.friend = person2
person2?.friend = person1

person1 = nil
// person2ã¯ã¾ã å­˜åœ¨ã™ã‚‹ãŒã€person1ã«å¯¾ã™ã‚‹å¼±å‚ç…§ãŒnilã«ãªã‚‹
```

#### å¾ªç’°å‚ç…§
- 2ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒäº’ã„ã‚’å¼·ãå‚ç…§ã—ã€äº’ã„ã®å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã‚’æ¸›å°‘ã•ã›ã‚‹ã“ã¨ãŒã§ããªã„çŠ¶æ³ã‚’æŒ‡ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¡ãƒ¢ãƒªã®ãƒªãƒ¼ã‚¯ãŒç™ºç”Ÿã—ã¾ã™ã€‚
- å¾ªç’°å‚ç…§ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€å¼±å‚ç…§ï¼ˆ`weak`ï¼‰ã€ã¾ãŸã¯ç„¡æ‰€æœ‰å‚ç…§ï¼ˆ`unowned`ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ã“ã“ã§ã€ç„¡æ‰€æœ‰å‚ç…§ã«ã¤ã„ã¦è»½ãè¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

##### `unowned` ç„¡æ‰€æœ‰å‚ç…§
- å‚ç…§ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ¡ãƒ¢ãƒªã‹ã‚‰è§£æ”¾ã•ã‚Œã¦ã‚‚ã€ç„¡æ‰€æœ‰å‚ç…§ã¯è‡ªå‹•ã§ `nil` ã«å‰²ã‚Šå½“ã¦ã•ã‚Œã¾ã›ã‚“ã€‚
- ç„¡æ‰€æœ‰å‚ç…§ã¯ `Optional` ã‚¿ã‚¤ãƒ—ã§ãªãã¦ã‚‚ã‚ˆã„ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¸¸ã«æœ‰åŠ¹ã§ã‚ã‚‹ã¨ä»®å®šã™ã‚‹ã¨ãã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
- å‚ç…§å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè§£é™¤ã•ã‚ŒãŸå¾Œã€ç„¡æ‰€æœ‰å‚ç…§ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
- ä¸Šè¨˜ã®ç†ç”±ã‹ã‚‰ã€ç„¡æ‰€æœ‰å‚ç…§ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒåŒã˜ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’å…±æœ‰ã™ã‚‹ã‹ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè§£é™¤ã•ã‚Œãªã„ã¨ç¢ºä¿¡ã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```swift
class Customer {
    var name: String
    var card: CreditCard?
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print("\(name) is being deinitialized")
    }
}

class CreditCard {
    var number: UInt64
    unowned var customer: Customer  // ç„¡æ‰€æœ‰å‚ç…§
    
    init(number: UInt64, customer: Customer) {
        self.number = number
        self.customer = customer
    }
    
    deinit {
        print("Card \(number) is being deinitialized")
    }
}

var customer: Customer? = Customer(name: "Kyu Lee")
customer?.card = CreditCard(number: 1234_5678_9012_3456, customer: customer!)

customer = nil
// customerãŒè§£é™¤ã•ã‚Œcardã‚‚è§£é™¤ã•ã‚Œã‚‹
```

 ä»Šå›ã®é–‹ç™ºã«ãŠã„ã¦ã€closure å†…ã®å¾ªç’°å‚ç…§ã‚’é¿ã‘ã‚‹ã“ã¨ã‚’æ„è­˜ã—ã€`weak self` ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚

 ```swift
let button = UIButton(configuration: config)
button.addAction(.init { [weak self] _ in
   guard let self else { return }
   self.didTapStarButton()
}, for: .touchUpInside)
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã® closure å†…ã§ `weak self` ã‚’ä½¿ã†ç†ç”±ã¯ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®ç™ºç”Ÿå¯èƒ½æ€§ã®ã‚ã‚‹å¼·ã„å¾ªç’°å‚ç…§ã‚’é¿ã‘ã‚‹ãŸã‚ã§ã™ã€‚<br>
`UIButton` ã® `addAction` ãƒ¡ã‚½ãƒƒãƒ‰ã« closure ã‚’æ¸¡ã™ã¨ãã€clousure ã¯ `self` ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã—ã¦å‚ç…§ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚<br>
ã‚‚ã—ã€`closure` ãŒ `self` ã‚’å¼·ãå‚ç…§ã™ã‚‹ã¨ã€`UIButton` ãŒ `self` ã‚’å¼·ãå‚ç…§ã—ã€`self` ã‚‚ `closure` ã‚’å¼·ãå‚ç…§ã™ã‚‹å¾ªç’°å‚ç…§ãŒç™ºç”Ÿã—ã¾ã™ã€‚<br>
ã“ã®å¾ªç’°å‚ç…§ã«ã‚ˆã‚Šã€ä¸¡æ–¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ¡ãƒ¢ãƒªã‹ã‚‰æ­£å¸¸ã«è§£æ”¾ã•ã‚Œãªã„ã¨ã„ã†å•é¡ŒãŒç”Ÿã˜ã¾ã™ã€‚<br>
ã“ã‚Œã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã«ã€`closure` ãŒ `self` ã‚’å¼±ãå‚ç…§ã™ã‚‹ã‚ˆã†ã« `weak` å¼±å‚ç…§ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã„ã¾ã—ãŸã€‚


&nbsp;

### ä¾‹å¤–å‡¦ç†ãƒ»é€šä¿¡æ™‚ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†
#### ä¾‹å¤–å‡¦ç†

```swift
/// é€šå¸¸ã®é–¢æ•°
func decode(from data: Data) -> RepositoriesResponse? {
    let decoder = JSONDecoder()
    decoder.keyDecodingStrategy = .convertFromSnakeCase
    
    do {
        let response = try decoder.decode(RepositoriesResponse.self, from: data)
        return response
    } catch {
        // ã‚¨ãƒ©ãƒ¼ã®ã¨ãã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºã¨åŒæ™‚ã« nil ã‚’è¿”ã™
        print("Failed to decode JSON: \(error)")
        return nil
    }
}

/// throwé–¢æ•°
func decode(from data: Data) throws -> RepositoriesResponse {
   let decoder = JSONDecoder()
   decoder.keyDecodingStrategy = .convertFromSnakeCase
   return try decoder.decode(RepositoriesResponse.self, from: data)
}

/// ä½¿ã†å´ã§ã®ã‚³ãƒ¼ãƒ‰
do {
   let results = try requestProtocol.decode(from: data)
   completion(.success(results))
} catch {
   completion(.failure(ErrorType.decodeError))
}
```

- `throws`é–¢æ•°ã‚’ç”¨ã„ã¦ã€Errorã®ç™ºç”Ÿå¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’`throws`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ˜ç¤ºã—ã€ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

- é–¢æ•°å†…éƒ¨ã® `try catch`ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®è¨˜è¼‰ãŒä¸è¦ã«ãªã‚Šã€å®Ÿéš›ã«ä½¿ã†å´ã§ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’è¡Œã†ã‚ˆã†ã«ã—ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨ä¿å®ˆæ€§ã‚’æ„è­˜ã—ã¾ã—ãŸã€‚

#### é€šä¿¡æ™‚ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†

```swift
/// ErrorTypeã®å®šç¾©
enum ErrorType: Error {
    case apiServerError
    case noResponseError
    case decodeError
    case unknownError
}

extension ErrorType {
    var errorTitle: String {
        switch self {
        case .apiServerError:
            return "APIã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼"
        case .noResponseError:
            return "ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¨ãƒ©ãƒ¼"
        case .decodeError:
            return "ãƒ‡ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼"
        case .unknownError:
            return "ä¸æ˜ãªã‚¨ãƒ©ãƒ¼"
        }
    }
    
    var errorDescription: String {
        switch self {
        case .apiServerError:
            return "ã‚µãƒ¼ãƒãƒ¼ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¾ã—ãŸã€‚\nã‚‚ã†ä¸€åº¦ã€ãŠè©¦ã—ãã ã•ã„ã€‚"
        case .noResponseError:
            return "ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒãªã„ã§ã™ã€‚\nã‚‚ã†ä¸€åº¦ã€ç¢ºèªã—ã¦ãã ã•ã„ã€‚"
        case .decodeError:
            return "ãƒ‡ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\nã‚‚ã†ä¸€åº¦ã€ãŠè©¦ã—ãã ã•ã„ã€‚"
        case .unknownError:
            return "ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚\nã‚‚ã†ä¸€åº¦ã€ç¢ºèªãã ã•ã„ã€‚"
        }
    }
}

/// ä½¿ã†å´ã§ã®ã‚³ãƒ¼ãƒ‰ä¾‹
func presentError(_ error: ErrorType) {
    print("Error: \(error.errorTitle)")
    print("Description: \(error.errorDescription)")
}

let error = ErrorType.apiServerError
presentError(error)
```

- APIãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†æ™‚ã«ç™ºç”Ÿã®å¯èƒ½æ€§ãŒã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æ˜ç¤ºã—ã€å¯èª­æ€§ã¨ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆæ€§ã®å‘ä¸Šã‚’æ„è­˜ã—ã¾ã—ãŸã€‚

- å„ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã«å¯¾ã—ã¦æ˜ç¢ºã«å®šç¾©ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ« `errorTitle` ã¨èª¬æ˜ `errorDescription` ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸæ™‚ã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®æƒ…å ±ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ç›®ç·šã ã‘ã§ãªãé–‹ç™ºè€…ã‚‚å•é¡Œã‚’æŠŠæ¡ã—ã‚„ã™ããªã‚Šã€ãƒ‡ãƒãƒƒã‚°ã‚‚å®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

&nbsp;

### DRYåŸå‰‡
é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã€æ±ç”¨çš„ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã‚ˆã†æ„è­˜ã—ã¾ã—ãŸã€‚

#### é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
```swift
private lazy var watchersCountLabel: UILabel = makeCountLabel()
private lazy var forksCountLabel: UILabel = makeCountLabel()
private lazy var openIssuesCountLabel: UILabel = makeCountLabel()

private func makeCountLabel() -> UILabel {
   let label = UILabel()
   label.font = .systemFont(ofSize: 18, weight: .regular)
   label.textColor = .black.withAlphaComponent(0.7)
   return label
}

/// ãƒ•ã‚©ãƒ³ãƒˆã®ã‚µã‚¤ã‚ºã‚„ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼ã«å·®ã‚’ä»˜ä¸ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã¨ãã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¿œç”¨ã§ãã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹
private func makeCountLabel(fontSize: CGFloat, color: UIColor) -> UILabel {
   let label = UILabel()
   label.font = .systemFont(ofSize: 18, weight: .regular)
   label.textColor = .black.withAlphaComponent(0.7)
   return label
}
```  
- `UILabel`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å®šç¾©æ™‚ã«åŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ã¾ã¨ã‚ã€é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã¾ã—ãŸã€‚

&nbsp;

#### ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä½¿ç”¨
```swift
class APIClient {
    /// ã‚¸ã‚§ãƒãƒªãƒƒã‚¯(Tã‚¿ã‚¤ãƒ—)ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€GitHubAPIClientProtocolã‚’æº–æ‹ ã™ã‚‹å…¨ã¦ã®ã‚¿ã‚¤ãƒ—ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ãŒå¯èƒ½ã«ãªã‚‹
    func request<T: GitHubAPIClientProtocol>(_ requestProtocol: T, type: GitHubAPIType, completion: @escaping(Result<T.Model?, ErrorType>) -> Void) {
        guard let request = requestProtocol.buildUpRequest() else { return }
        /// ä»–ã¯çœç•¥
    }
}

/// ãƒªãƒã‚¸ãƒˆãƒªæ¤œç´¢ç”¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
struct GitHubSearchRepositoriesRequest: GitHubAPIClientProtocol {
   /// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç«‹ã¦ã‚‹å‡¦ç†ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿéš›ã«é€ã‚‹å‡¦ç†ã‚’åˆ†é›¢ã—ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨ãƒ†ã‚¹ãƒˆãŠã‚ˆã³ä¿å®ˆæ™‚ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã‚’å‘ä¸Šã•ã›ã‚‹
   func buildUpRequest() -> URLRequest? {
      let urlString = "[URL string you want to use]"
      guard let url = URL(string: urlString) else { return nil }
      var request = URLRequest(url: url)
      request.httpMethod = "GET"

      return request
   }
   /// ä»–ã¯çœç•¥
}

```
- æœ¬ã‚¢ãƒ—ãƒªã¯`GitHub Rest API`ã®ä¸­ã€æ¤œç´¢ç”¨ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨æ˜Ÿä»˜ã‘ãƒ»è§£é™¤ç”¨ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚æ¤œç´¢ç”¨ã®`struct`ã§ã‚ã‚‹`GitHubSearchRepositoriesRequest`ã¨æ˜Ÿä»˜ã‘ãƒ»è§£é™¤ç”¨ã§ã‚ã‚‹`GitHubStarRepositoriesRequest`ã¯ãã‚Œãã‚Œç•°ãªã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã—ã¦ã„ã¾ã™ãŒã€ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨æ€§ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

- `GitHubSearchRepositoriesRequest`ã¨`GitHubStarRepositoriesRequest`ãŒå…±é€šã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«`GitHubAPIClientProtocol`ã‚’æº–æ‹ ã™ã‚‹ã‚ˆã†ã«å®šç¾©ã—ã€`APIClient`ã‚¯ãƒ©ã‚¹ã§ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã€é‡è¤‡ã—ãŸã‚³ãƒ¼ãƒ‰ã®å‰Šæ¸›ã¨ã€è¤‡æ•°ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ãŒè‡ªåˆ†è‡ªèº«ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’çµ„ã¿ç«‹ã¦ã‚‹ãƒ­ã‚¸ãƒƒã‚¯`buildUpRequest`ã‚’æŒã¤ã‚ˆã†ã«ã—ã€`APIClient`ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸå‡¦ç†ã‚’è¡Œã†å¿…è¦ãŒãªããªã‚Šã€é–¢å¿ƒäº‹ã®åˆ†é›¢ãŒå®Ÿç¾ã•ã‚Œã¾ã™ã€‚

&nbsp;

#### ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```swift
final class LoadingView: UIView {
    /// didSetã‚’ç”¨ã„ã¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒæ›´æ–°ã•ã‚ŒãŸç›´å¾Œã«å®Ÿè¡Œã—ã€å¤ã„å€¤ã‚’æ–°ã—ã„å€¤ã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒå¯èƒ½
    var isLoading = false {
        didSet {
            isHidden = !isLoading
            isLoading ? loadingIndicatorView.startAnimating() : loadingIndicatorView.stopAnimating()
        }
    }
    /// ä»–ã¯çœç•¥
}

/// loadingViewã‚’ä½¿ã†å´ã§ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã©ã®ç”»é¢ã§ã‚‚åˆ©ç”¨ã§ãã‚‹
private let loadingView = LoadingView()
loadingView.isLoading = true

/// ä»–ã¯çœç•¥

```
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’ãƒ¦ãƒ¼ã‚¶ã«ç¤ºã™`LoadingView`ã‚’ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã—ã€ã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨æ€§ã‚’å¢—ã‚„ã—ãŸã€‚åŒã˜æ©Ÿèƒ½ã‚„UIè¦ç´ ã‚’ä¸€ã¤ã®ç®‡æ‰€ã«ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ãŸãŸã‚ã€`ViewController`ã‚„`View`ãªã©ã©ã®å ´æ‰€ã§ã‚‚ã“ã‚Œã‚‰ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- UIã‚„ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ã™ã‚‹éš›ã€å½“è©²ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ä¿®æ­£ã™ã‚Œã°ã„ã„ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆãŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€`UIActivityIndicatorView`ã®è‰²ã‚„è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰ãˆãŸã„ã¨ãã¯ã€`LoadingView`ã‚¯ãƒ©ã‚¹ã‚’ä¿®æ­£ã™ã‚Œã°ã„ã„ã®ã§ã€é–¢å¿ƒäº‹ã®åˆ†é›¢ãŒã§ãã€ãƒ†ã‚¹ãƒˆã‚‚å®¹æ˜“ã«ã—ã¾ã™ã€‚


&nbsp;

## ğŸ§ å·¥å¤«ç‚¹

### Personal Access Token ã®ç®¡ç†æ–¹æ³•
æ˜Ÿä»˜ã‘ãƒ»è§£é™¤ã®æ©Ÿèƒ½ã‚’ä½¿ã†ã«ã‚ãŸã£ã¦ã€è‡ªåˆ†è‡ªèº«ã®GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ãŒå¿…è¦ã ã£ãŸãŸã‚ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã©ã®ã‚ˆã†ã«ä½¿ã†ã‹ã‚’æ‚©ã¿ã¾ã—ãŸã€‚<br>
æœ¬ã‚¢ãƒ—ãƒªã®èªè¨¼æ©Ÿèƒ½ã®å®Ÿè£…ã«ãŠã„ã¦ã€ä¸‹è¨˜ã®4ã¤ã®æ–¹æ³•ã‚’å·¥å¤«ã—ã¾ã—ãŸã€‚

#### UserDefaults
```swift
func getAccessToken() -> String? {
    UserDefaults.standard.string(forKey: "accessToken")
}

func saveAccessToken(_ accessToken: String) {
    UserDefaults.standard.set(accessToken, forKey: "accessToken")
}
```

- æ—¢å­˜ã®å€‹äººé–‹ç™ºã§ã¯ç°¡å˜ãªç’°å¢ƒè¨­å®šãªã©ã®ç®¡ç†ã¯`UserDefaults`ã‚’ç”¨ã„ã¦å®Ÿè£…ã—ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã‚‚ä¸Šè¨˜ã®ã‚ˆã†ã«ã¨ã¦ã‚‚ç°¡å˜ãªãŸã‚ã€ã‚ˆãä½¿ã£ã¦ã„ã¾ã—ãŸã€‚

- ã—ã‹ã—ã€`UserDefaults`ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã¯property list ï¼ˆ.plistãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã«ä¿å­˜ã•ã‚Œã‚‹ãŸã‚ã€ç‰¹å®šã®ãƒ„ãƒ¼ãƒ«ãªã©ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€`UserDefaults` ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªãƒ»ä¿®æ­£ãŒå¯èƒ½ã«ãªã‚‹ã¨ã„ã†è„†å¼±æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ãƒˆãƒ¼ã‚¯ãƒ³ãªã©ã®æ©Ÿå¯†æƒ…å ±ã®ä¿å­˜ã«ã¯é©ã—ã¦ã„ãªã„ã‚‰ã—ã„ã§ã™ã€‚

- ä¸Šè¨˜ã®ç†ç”±ã‹ã‚‰ã€`UserDefaults`ã‚’ç”¨ã„ãŸæ–¹æ³•ã¯æ¡ç”¨ã—ã¾ã›ã‚“ã§ã—ãŸã€‚

#### ProcessInfo ã‚’ç”¨ã„ã‚‹æ–¹æ³•
```swift
func loadTokenFromProcessInfo() -> String? {
    return ProcessInfo.processInfo.environment["PERSONAL_ACCESS_TOKEN"]
}

// ä½¿ã„æ–¹
if let token = loadTokenFromProcessInfo() {
    print("Loaded token: \(token)")
} else {
    print("Token not found")
}
```

- `ProcessInfo`ã‚’ç”¨ã„ãŸæ–¹æ³•ã¯ã€Xcodeã® Schemeè¨­å®šã®ä¿®æ­£ã‚’é€šã—ã¦å®Ÿè£…å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚Xcodeä¸Šã®ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦ä¿å­˜ã—ã¦ä½¿ãˆã°ã„ã„ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ãŒç°¡å˜ã§ã™ã€‚

- ã—ã‹ã—ã€Xcodeä¸Šã§ãƒ“ãƒ«ãƒ‰ã—ãªã„é™ã‚Šã€è¨­å®šã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ãŒæ­£å¸¸ã«åæ˜ ã•ã‚Œãªã„ã®ã§ã€ãƒˆãƒ¼ã‚¯ãƒ³ã®ä¿å­˜æ–¹æ³•ã¨ã—ã¦ã¯ä¸é©åˆã ã¨åˆ¤æ–­ã—ã¾ã—ãŸã€‚ãã®ãŸã‚ã€ã“ã®æ–¹æ³•ã‚‚æ¡ç”¨ã—ã¾ã›ã‚“ã§ã—ãŸã€‚

#### Keychain ã‚’ç”¨ã„ã‚‹æ–¹æ³•
- `Keychain` ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«é™ã‚‰ãšã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ã€ã‚ã‚‹ã„ã¯çŸ­ã„ãƒ¡ãƒ¢ãªã©ã‚‚ãƒ¦ãƒ¼ã‚¶ãŒæš—å·åŒ–ã—ãŸã„ã‚‚ã®ã§ã‚ã‚Œã°ã€`Keychain` ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æš—å·åŒ–ã—ã¦ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- Appleã¯ `Keychain Services API`ã‚’é€šã—ã¦ã€ä¸»ã«ä»¥ä¸‹ã®ã“ã¨ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚
  1. é•·ãã¦é›£ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã‚’ä½œã£ã¦ã‚‚ç§ãŒä»£ã‚ã‚Šã«è¦šãˆã¦ã‚ã’ã¾ã™ï¼
  2. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¥ªå–ãŒå¿ƒé…ã§ã™ã‹ï¼Ÿã“ã£ã¡ã®æ–¹ã§æš—å·åŒ–ã—ã¦æŒã£ã¦ã„ã‚‹ã®ã§ã€å¿ƒé…ã—ãªã„ã§ï¼
 
- ã¤ã¾ã‚Šã€ã“ã® `Keychain`ã®å®Ÿè£…æ–¹æ³•ã‚’ç”¨ã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ã¯ç°¡å˜ã§ä¾¿åˆ©ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„ãƒˆãƒ¼ã‚¯ãƒ³ãªã©ã®æ©Ÿå¯†æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã¾ãŸã€è¿½åŠ ã§APIã§è‡ªå‹•çš„ã«æš—å·åŒ–ãŒå¿…è¦ãªã‚‚ã®ã«å¯¾ã™ã‚‹å‡¦ç†ã‚’ã—ã¦ãã‚Œã‚‹ã®ã§ã€é–‹ç™ºè€…ã‚‚ç°¡å˜ã§ä¾¿åˆ©ã«ä½¿ç”¨ã§ãã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯ä¸‹è¨˜ã«è²¼ã£ãŸå…¬å¼æ–‡æ›¸ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

- ã—ã‹ã—ã€`Keychain`ã¯å®Ÿè£…ã®æ–¹æ³•ãŒè¤‡é›‘ã§ã‚ã‚Šã€ã‚ã‚‹ç¨‹åº¦ç†è§£åº¦ãŒå¿…è¦ã§ã‚ã‚‹ã¨æ„Ÿã˜ã€ä»Šå›ã¯æ¡ç”¨ã—ãªã„ã“ã¨ã«ã—ã¾ã—ãŸã€‚

- ã¾ãŸã€ä»Šå›ã®å®Ÿè£…ã¯ã‚ãã¾ã§ã‚‚è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ä»»æ„ã®ãƒªãƒã‚¸ãƒˆãƒªã«æ˜Ÿä»˜ã‘ãƒ»è§£é™¤æ©Ÿèƒ½ã®å®Ÿç¾æœ‰ç„¡ã ã‘ã‚’ç¢ºèªã™ã‚‹ç›®çš„ã§ã‚ã‚‹ãŸã‚ã€æ¡æŠã—ãªã„ã“ã¨ã«ã—ã¾ã—ãŸã€‚

- ä»Šå¾Œã€Keychainã«ã¤ã„ã¦å‹‰å¼·ã—ãŸã‚ã¨ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã™ã‚‹äºˆå®šã§ã™ã€‚

> [å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡Œã (Keychainã«ã¤ã„ã¦) ](https://developer.apple.com/documentation/security/keychain_services)

#### gitignore ã‚’ç”¨ã„ã‚‹æ–¹æ³•
```plaintext
# gitignore ãƒ•ã‚¡ã‚¤ãƒ«ã«ç„¡è¦–ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§ã®ãƒ‘ã‚¹ã‚’å…¨éƒ¨è¨˜è¼‰
# ä»¥ä¸‹ã¯ä¾‹
CodeAssignment_MVVM_Combine/Sources/Token.swift
```

- ä»Šå›ã®å®Ÿè£…ã®ç›®çš„ã¯ã€è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ä»»æ„ã®ãƒªãƒã‚¸ãƒˆãƒªã«æ˜Ÿä»˜ã‘ãƒ»è§£é™¤ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚’ç¢ºã‹ã‚ã‚‹ã“ã¨ã§ã™ã€‚ãã®ãŸã‚ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¨˜è¼‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€GitHubã§å…¬é–‹ã™ã‚‹éš›ã«ã¯ gitignore ã‚’ä½¿ç”¨ã—ã¦ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é™¤å¤–ã™ã‚‹æ–¹æ³•ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚

- ä¸Šè¨˜ã®ã‚ˆã†ã«ã€gitignore ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¨˜è¼‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§ã®ãƒ‘ã‚¹ã‚’ã™ã¹ã¦è¨˜éŒ²ã™ã‚‹ã“ã¨ã§å¯¾å¿œã¯å®Œäº†ã§ã™ã€‚ãŸã ã—ã€gitignore ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½ç½®ã«ã‚ˆã£ã¦ãƒ‘ã‚¹ãŒç•°ãªã‚‹ãŸã‚ã€æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

&nbsp;

## ğŸ“š å­¦ã³

### ç”»é¢è¡¨ç¤ºç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®çµåˆãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ

`èƒŒæ™¯`<br>
- ä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã™ã‚‹ã¾ã§ã¯ã€ç„¡æ„è­˜ã§APIã‚’å©ã„ã¦è¿”ã£ã¦ãã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’`APIClient`ã§å‡¦ç†ã—ã¦ViewControllerã§ç›´æ¥æ¸¡ã™ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãŸã€‚ã“ã‚Œã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å½¢ã«ä¾å­˜ã—ã¡ã‚ƒã†ã®ã§ã¯ï¼Ÿã¨è€ƒãˆã¦ã„ã¦ã“ã®ä¾å­˜åº¦ã‚’ã©ã†åˆ†é›¢ã™ã‚‹ã‹ã‚’æ‚©ã‚“ã¦ã„ãŸã‚‚ã®ã®ã€ä¾å­˜åº¦ã‚’åˆ†é›¢ã›ãšã«æ™®æ®µã‹ã‚‰æ…£ã‚Œã¦ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã—ãŸã€‚<br>
- ã™ã‚‹ã¨ã€ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã®æ–¹ã‹ã‚‰ã¾ã•ã«ã“ã“ã®éƒ¨åˆ†ã‚’æŒ‡æ‘˜ã•ã‚Œã€APIå©ãã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã¨ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’åˆ†å²ã™ã‚‹ã“ã¨ã§ä¾å­˜åº¦ã‚’æ¸›ã‚‰ã›ã‚‹ã“ã¨ã‚’æ•™ã‚ã‚Šã¾ã—ãŸã€‚

`è§£æ±º`<br>
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å½¢å¼ã«ä¾å­˜ã™ã‚‹ã“ã¨ã¯ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚‹ã¨è€ƒãˆã€ãƒ“ãƒ¥ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’ç”Ÿæˆã—ã¦é©ç”¨ã—ã¾ã—ãŸã€‚<br>
- ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’APIã‹ã‚‰å–å¾—ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ãƒ¼ã‚¿ç”¨ã® `RepositoriesResponse` ã¨ã€ãã‚Œã‚‰ã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã® `Repositories` ã«åˆ†ã‘ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`Codable` ã‚’ç¶™æ‰¿ã™ã‚‹ `struct` å†…ã®ä¸è¦ãª `CodingKeys` ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ’é™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>
- ã¾ãŸã€ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºç”¨ã®ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨æ„ã—ã¦é–¢å¿ƒäº‹ã®åˆ†é›¢ã‚’ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã‚‚å®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€APIå‡¦ç†ã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã¨ãã¯ `RepositoriesResponse`ã‚’ã€ UIã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã¨ãã¯ `Repositories`ã®ã¿ã‚’ãƒ†ã‚¹ãƒˆã™ã‚Œã°ã„ã„ã®ã§ã€ã‚³ãƒ¼ãƒ‰ä½œæˆã®åŠ¹ç‡æ€§ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚

&nbsp;
